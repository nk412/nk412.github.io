<!DOCTYPE html>
<html>
<head>
    <meta charSet="utf-8" name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Box-and-whisker plots for the command line</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&family=Outfit:wght@600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <div class="container">

    <p><a href="../index.html#posts">&larr; back</a></p>

<h1>Box and whisker plots for the command line</h1>
<p>Sometimes, it'd just be nice if you could visualize the distribution of a dataset quickly on the terminal without opening fancier tools. Enter, <code>boxel</code>.</p>
<p><code>boxel</code> lets you plot boxplots by simply piping in some numerical data. Bewarned though, the cleaning and preparation of the data is up to the user!</p>
<pre><code class="language-bash">$ seq 10 | boxel

Range: 1.0 - 10.0 | Samples: 10


       ┠──────────────┨░░░░░░░░░░░░░░┃░░░░░░░░░░░░░░┠─────────────┨
        Min:1.0                                                     Max:10.0
                       Q1:3.25
                                      Q2:5.5
                                                     Q3:7.75
</code></pre>
<p><code>seq 10</code> simply lists all integers between 1 and 10 inclusive. Pipe it into <code>boxel</code> and it shows you the min and max values as well as the quartiles (Q1, Q2/median, Q3), a five number summary to help you understand the distribution.</p>
<p>Let's try something a bit more real...</p>
<h3>Temperatures recorded at Heathrow Airport</h3>
<h4>1953 vs 1988 vs 2023</h4>
<pre><code class="language-bash">$ DATA=$(curl -s https://raw.githubusercontent.com/alanjones2/uk-historical-weather/refs/heads/main/data/Heathrow.csv)

$ paste &lt;(echo &quot;$DATA&quot; | awk -F, '{if($2==1953){print $NF}}') \
      &lt;(echo &quot;$DATA&quot; | awk -F, '{if($2==1988){print $NF}}') \
      &lt;(echo &quot;$DATA&quot; | awk -F, '{if($2==2023){print $NF}}') \
 | boxel --bins 50 --no-colors

</code></pre>
<pre><code>Range: 3.1 - 19.55 | Samples: 36


       ┠─────────────┨░░░░░░░░░┃░░░░░░░░░░░░░░░░░┠────────┨
        Min:3.1                                             Max:17.6
                      Q1:7.18                                       
                                Q2:9.8                              
                                                  Q3:14.81          


              ┠─────┨░░░░░░░░░░░░░┃░░░░░░░░░░░░░░░┠──────┨
        Min:5.25                                           Max:17.1 
                     Q1:6.89                                        
                                   Q2:10.65                         
                                                   Q3:14.98         


                ┠─────────┨░░░░░░░░░░░░┃░░░░░░░░░░░░░░░░░░░░░░┠───┨
        Min:5.75                                                    Max:19.55
                           Q1:8.39                                  
                                        Q2:12.1                     
                                                               Q3:18.41
</code></pre>
<h3>Streaming input</h3>
<p>By default, <code>boxel</code> blocks until the input pipe completes before drawing the results. You can use the <code>--streaming</code> flag to draw incrementally, say if you want to visualize latency distributions of a dusty old server for instance.</p>
<p><br></p>
<p><img alt="alt" src="/assets/boxel_streaming.gif" /></p>
<h3>On Github</h3>
<p>You can find it <a href="https://github.com/nk412/boxel">here</a>. Bewarned, it's still not tidied up, I plan to package it up and publish to PyPI. Still may be useful though!</p>

    <hr>
    <p><a href="../index.html#posts">&larr; back to posts</a></p>

    </div>
</body>
</html>
